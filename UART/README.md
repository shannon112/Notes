# Intro:
The **Inter-Integrated Circuit** (I2C, pronounced I-squared-C) is a synchronous, multi-master, multi-slave, packet switched, single-ended, serial communication bus invented in 1982 by Philips Semiconductor (now NXP Semiconductors). It is widely used for attaching lower-speed peripheral ICs to processors and microcontrollers in short-distance, intra-board communication. Alternatively, I2C is spelled I2C (pronounced I-two-C) or IIC (pronounced I-I-C). Typical applications include GY series IMU and RTC clock module.[1]
applications: serial (COM) port, RS-232, modems

# Character:
- **Serial communication bus**, with contrary to Parallel
- **Master-Slave-Based**, multi-master, multi-slave.
- **Can be Simplex, Half-Duplex, Full-Duplex communication**, one line TX->RX data send in one direction, 2 lines data send in each direction but only one at a time, 2 lines data send in both directions simultaneously .
- **Asynchronous communication**, no clock mechanism, the transmitter and receiver must at the same speed (baud rate) and frame structure.
- **Transmitted as frames**, 

# Interface:
- **TX**：Serial Data 串列資料. Transmits data from the master to the slave or slave to the master.  
- **RX**：Serial Clock 串列時脈. Synchronize the data transfer between the devices on the I2C bus and it’s generated by the master device.  
<img src="https://raw.githubusercontent.com/shannon112/Notes/main/I2C/I2C_interface.png" width=400>

# Speed (baud rate)
9600
19200
57600
115200

# Address

# Data Transmission

# Pros and cons 
- Advantages  
  - low cost, and easy construct for low speed, low throughput application
- Disadvantages [1]  

# Demo: I2C GY-80 and GY-521 Reading
Original experiment from: https://howtomechatronics.com/tutorials/arduino/how-i2c-communication-works-and-how-to-use-it-with-arduino/ [2]

<img src="https://raw.githubusercontent.com/shannon112/Notes/main/I2C/GY_address.png" height=250> <img src="https://raw.githubusercontent.com/shannon112/Notes/main/I2C/Connection.png" height=250>

```c
#include <Wire.h>

int ADXLAddress = 0x53; // Device address 
#define X_Axis_Register_DATAX0 0x32 // Internal register addresses
#define X_Axis_Register_DATAX1 0x33 // Internal registers addresses
#define Power_Register 0x2D // Power Control Register

int X0,X1,X_out;
void setup() {
  // Initiate
  Wire.begin(); 
  Serial.begin(9600);
  delay(100);
  
  // Enable measurement
  Wire.beginTransmission(ADXLAddress);
  Wire.write(Power_Register);
  
  // Bit D3 High for measuring enable (0000 1000)
  Wire.write(8);  
  Wire.endTransmission();
}

void loop() {
  // Begin transmission to the Sensor
  Wire.beginTransmission(ADXLAddress);  
  //Ask the particular registers for data
  Wire.write(X_Axis_Register_DATAX0);
  Wire.write(X_Axis_Register_DATAX1);
  // Ends the transmission and transmits the data from the two registers
  Wire.endTransmission(); 
  // Request the transmitted two bytes from the two registers
  Wire.requestFrom(ADXLAddress,2); 
  
  // Reads the data from the register
  if(Wire.available()<=2) { 
    X0 = Wire.read(); 
    X1 = Wire.read();   
  }
  
  // Print the raw data
  Serial.print("X0= ");
  Serial.print(X0);
  Serial.print(", X1= ");
  Serial.println(X1);
}
```
- GY-80 consists 5 different sensors and the GY-521 consists 3 different sensors. But there are only 5 device address.
- The device address and internal registers address can be found in datasheet.
- Or scan the device address: https://playground.arduino.cc/Main/I2cScanner/
- The device address included the 8th bit (read mode in this case)


# Reference
[1] https://en.wikipedia.org/wiki/I%C2%B2C  
[2] https://www.youtube.com/watch?v=6IAkYpmA1DQ  
[3] https://circuitdigest.com/forums/embedded/difference-between-open-drain-and-push-pull
